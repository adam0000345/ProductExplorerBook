{"ast":null,"code":"import _classCallCheck from\"/Users/adam.tothfejel/Desktop/LabelBoxFolder/BirdHouse/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/adam.tothfejel/Desktop/LabelBoxFolder/BirdHouse/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/adam.tothfejel/Desktop/LabelBoxFolder/BirdHouse/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/adam.tothfejel/Desktop/LabelBoxFolder/BirdHouse/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/adam.tothfejel/Desktop/LabelBoxFolder/BirdHouse/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Pane,Dialog,SearchInput,Badge}from'evergreen-ui';import SearchControls from\"../controllers/SearchControls.js\";import Utils from'../controllers/Utils.js';var Search=/*#__PURE__*/function(_Component){_inherits(Search,_Component);function Search(){_classCallCheck(this,Search);return _possibleConstructorReturn(this,_getPrototypeOf(Search).apply(this,arguments));}_createClass(Search,[{key:\"componentDidUpdate\",value:function componentDidUpdate(){var search=this.props.app.getUIState(\"search\");search.count=this.resultCount;}},{key:\"render\",value:function render(){var _this=this;var results=this.props.results;if(Array.isArray(results)){if(results.length===0)results=React.createElement(NoResults,{key:Utils.guid(),app:this.props.app});else results=results.map(function(item,seq){return React.createElement(SearchResult,{key:Utils.guid(),seq:seq,item:item,app:_this.props.app});});}else if(results===1)results=React.createElement(Loading,{key:Utils.guid()});else results=null;this.resultCount=Array.isArray(results)?results.length:0;return React.createElement(Pane,null,React.createElement(Dialog,{width:1080,isShown:SearchControls.isOpen(this.props.app),title:React.createElement(SearchInput,{autoFocus:true,className:\"searchBar\",onChange:SearchControls.onChange.bind(this.props.app),fontWeight:800,placeholder:\"Search\",width:\"100%\",height:60}),onCloseComplete:SearchControls.isClosed.bind(this.props.app),hasFooter:false,hasHeader:true,preventBodyScrolling:true},React.createElement(Pane,{width:\"100%\"},results)));}}]);return Search;}(Component);export{Search as default};var SearchResult=/*#__PURE__*/function(_Component2){_inherits(SearchResult,_Component2);function SearchResult(){_classCallCheck(this,SearchResult);return _possibleConstructorReturn(this,_getPrototypeOf(SearchResult).apply(this,arguments));}_createClass(SearchResult,[{key:\"render\",value:function render(){var item=this.props.item;var seq=this.props.seq;var state=this.props.app.getUIState(\"search\");var className=state.index===seq?\"active\":\"\";return React.createElement(Pane,{className:\"searchResult \"+className,key:Utils.guid()},React.createElement(\"div\",{className:\"CardHeading\"},React.createElement(\"img\",{alt:\"\",src:'./img/'+item.type+'.png'}),React.createElement(Badge,{color:item.color,isSolid:true,marginRight:\"1em\"},item.badge),this.highlight(item.label)));}},{key:\"highlight\",value:function highlight(text){if(Utils.isEmpty(text))return null;var regex=new RegExp('('+this.props.app.getUIState(\"search\").query+')','ig');return text.split(regex).map(function(part,i){if(i%2)return React.createElement(\"span\",{key:Utils.guid(),className:\"searchHighlight\"},part);return React.createElement(\"span\",{key:Utils.guid()},part);});}}]);return SearchResult;}(Component);var Loading=/*#__PURE__*/function(_Component3){_inherits(Loading,_Component3);function Loading(){_classCallCheck(this,Loading);return _possibleConstructorReturn(this,_getPrototypeOf(Loading).apply(this,arguments));}_createClass(Loading,[{key:\"render\",value:function render(){return React.createElement(\"div\",{align:\"center\"},React.createElement(\"img\",{src:\"./img/search.gif\",alt:\"search\"}),React.createElement(\"br\",null),\"Searching...\");}}]);return Loading;}(Component);var NoResults=/*#__PURE__*/function(_Component4){_inherits(NoResults,_Component4);function NoResults(){_classCallCheck(this,NoResults);return _possibleConstructorReturn(this,_getPrototypeOf(NoResults).apply(this,arguments));}_createClass(NoResults,[{key:\"render\",value:function render(){return React.createElement(\"div\",{align:\"center\"},\"No results found for \\u201C\",this.props.app.getUIState(\"search\").query,\"\\u201D.\");}}]);return NoResults;}(Component);","map":{"version":3,"sources":["/Users/adam.tothfejel/Desktop/LabelBoxFolder/BirdHouse/src/components/Search.js"],"names":["React","Component","Pane","Dialog","SearchInput","Badge","SearchControls","Utils","Search","search","props","app","getUIState","count","resultCount","results","Array","isArray","length","guid","map","item","seq","isOpen","onChange","bind","isClosed","SearchResult","state","className","index","type","color","badge","highlight","label","text","isEmpty","regex","RegExp","query","split","part","i","Loading","NoResults"],"mappings":"+2BACA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,IAAT,CAAeC,MAAf,CAAuBC,WAAvB,CAAoCC,KAApC,KAAiD,cAAjD,CACA,MAAOC,CAAAA,cAAP,KAA2B,kCAA3B,CACA,MAAOC,CAAAA,KAAP,KAAkB,yBAAlB,C,GAEqBC,CAAAA,M,wRAIG,CAEhB,GAAIC,CAAAA,MAAM,CAAG,KAAKC,KAAL,CAAWC,GAAX,CAAeC,UAAf,CAA0B,QAA1B,CAAb,CACAH,MAAM,CAACI,KAAP,CAAe,KAAKC,WAApB,CACH,C,uCAEQ,gBAGL,GAAIC,CAAAA,OAAO,CAAG,KAAKL,KAAL,CAAWK,OAAzB,CACC,GAAGC,KAAK,CAACC,OAAN,CAAcF,OAAd,CAAH,CACD,CACI,GAAGA,OAAO,CAACG,MAAR,GAAiB,CAApB,CAAuBH,OAAO,CAAG,oBAAC,SAAD,EAAY,GAAG,CAAER,KAAK,CAACY,IAAN,EAAjB,CAAgC,GAAG,CAAE,KAAKT,KAAL,CAAWC,GAAhD,EAAV,CAAvB,IACKI,CAAAA,OAAO,CAAGA,OAAO,CAACK,GAAR,CAAY,SAACC,IAAD,CAAMC,GAAN,QAAc,qBAAC,YAAD,EAAe,GAAG,CAAEf,KAAK,CAACY,IAAN,EAApB,CAAmC,GAAG,CAAEG,GAAxC,CAA6C,IAAI,CAAED,IAAnD,CAAyD,GAAG,CAAE,KAAI,CAACX,KAAL,CAAWC,GAAzE,EAAd,EAAZ,CAAV,CACR,CAJA,IAKI,IAAGI,OAAO,GAAG,CAAb,CAAgBA,OAAO,CAAG,oBAAC,OAAD,EAAU,GAAG,CAAER,KAAK,CAACY,IAAN,EAAf,EAAV,CAAhB,IACAJ,CAAAA,OAAO,CAAG,IAAV,CAEL,KAAKD,WAAL,CAAoBE,KAAK,CAACC,OAAN,CAAcF,OAAd,CAAD,CAA2BA,OAAO,CAACG,MAAnC,CAA4C,CAA/D,CAEA,MACI,qBAAC,IAAD,MACI,oBAAC,MAAD,EACI,KAAK,CAAE,IADX,CAEI,OAAO,CAAEZ,cAAc,CAACiB,MAAf,CAAsB,KAAKb,KAAL,CAAWC,GAAjC,CAFb,CAGI,KAAK,CAAE,oBAAC,WAAD,EACH,SAAS,KADN,CAEH,SAAS,CAAC,WAFP,CAGH,QAAQ,CAAEL,cAAc,CAACkB,QAAf,CAAwBC,IAAxB,CAA6B,KAAKf,KAAL,CAAWC,GAAxC,CAHP,CAIH,UAAU,CAAE,GAJT,CAIc,WAAW,CAAC,QAJ1B,CAImC,KAAK,CAAC,MAJzC,CAIgD,MAAM,CAAE,EAJxD,EAHX,CAQI,eAAe,CAAEL,cAAc,CAACoB,QAAf,CAAwBD,IAAxB,CAA6B,KAAKf,KAAL,CAAWC,GAAxC,CARrB,CASI,SAAS,CAAE,KATf,CAUI,SAAS,CAAE,IAVf,CAWI,oBAAoB,KAXxB,EAaI,oBAAC,IAAD,EAAM,KAAK,CAAC,MAAZ,EAAoBI,OAApB,CAbJ,CADJ,CADJ,CAkBH,C,oBA1C+Bd,S,SAAfO,M,gBA4CfmB,CAAAA,Y,gSAGO,CACL,GAAIN,CAAAA,IAAI,CAAG,KAAKX,KAAL,CAAWW,IAAtB,CACA,GAAIC,CAAAA,GAAG,CAAG,KAAKZ,KAAL,CAAWY,GAArB,CACA,GAAIM,CAAAA,KAAK,CAAG,KAAKlB,KAAL,CAAWC,GAAX,CAAeC,UAAf,CAA0B,QAA1B,CAAZ,CACA,GAAIiB,CAAAA,SAAS,CAAID,KAAK,CAACE,KAAN,GAAcR,GAAf,CAAsB,QAAtB,CAAiC,EAAjD,CACA,MACI,qBAAC,IAAD,EAAM,SAAS,CAAE,gBAAgBO,SAAjC,CAA6C,GAAG,CAAEtB,KAAK,CAACY,IAAN,EAAlD,EACI,2BAAK,SAAS,CAAC,aAAf,EAA6B,2BAAK,GAAG,CAAC,EAAT,CAAY,GAAG,CAAE,SAAWE,IAAI,CAACU,IAAhB,CAAuB,MAAxC,EAA7B,CAA+E,oBAAC,KAAD,EAAO,KAAK,CAAEV,IAAI,CAACW,KAAnB,CAA0B,OAAO,KAAjC,CAAkC,WAAW,CAAC,KAA9C,EAAqDX,IAAI,CAACY,KAA1D,CAA/E,CAAwJ,KAAKC,SAAL,CAAeb,IAAI,CAACc,KAApB,CAAxJ,CADJ,CADJ,CAIH,C,4CAGSC,I,CAAM,CACZ,GAAI7B,KAAK,CAAC8B,OAAN,CAAcD,IAAd,CAAJ,CAAyB,MAAO,KAAP,CACzB,GAAIE,CAAAA,KAAK,CAAG,GAAIC,CAAAA,MAAJ,CAAW,IAAM,KAAK7B,KAAL,CAAWC,GAAX,CAAeC,UAAf,CAA0B,QAA1B,EAAoC4B,KAA1C,CAAkD,GAA7D,CAAkE,IAAlE,CAAZ,CACA,MAAOJ,CAAAA,IAAI,CAACK,KAAL,CAAWH,KAAX,EAAkBlB,GAAlB,CAAsB,SAACsB,IAAD,CAAOC,CAAP,CAAa,CACtC,GAAIA,CAAC,CAAG,CAAR,CAAW,MAAO,6BAAM,GAAG,CAAEpC,KAAK,CAACY,IAAN,EAAX,CAA0B,SAAS,CAAC,iBAApC,EAAuDuB,IAAvD,CAAP,CACX,MAAO,6BAAO,GAAG,CAAEnC,KAAK,CAACY,IAAN,EAAZ,EAA4BuB,IAA5B,CAAP,CACH,CAHM,CAAP,CAIH,C,0BAtBsBzC,S,KAyBrB2C,CAAAA,O,uQAGF,CACI,MAAO,4BAAK,KAAK,CAAC,QAAX,EAAoB,2BAAK,GAAG,CAAE,kBAAV,CAA8B,GAAG,CAAC,QAAlC,EAApB,CAAgE,8BAAhE,gBAAP,CACH,C,qBALiB3C,S,KAQhB4C,CAAAA,S,iRAGF,CACA,MAAO,4BAAK,KAAK,CAAC,QAAX,gCAA2C,KAAKnC,KAAL,CAAWC,GAAX,CAAeC,UAAf,CAA0B,QAA1B,EAAoC4B,KAA/E,WAAP,CACC,C,uBALmBvC,S","sourcesContent":["\nimport React, { Component } from 'react';\nimport { Pane, Dialog, SearchInput, Badge } from 'evergreen-ui'\nimport SearchControls from \"../controllers/SearchControls.js\";\nimport Utils from '../controllers/Utils.js';\n\nexport default class Search extends Component {\n\n\n\n    componentDidUpdate(){\n\n        let search = this.props.app.getUIState(\"search\");\n        search.count = this.resultCount;\n    }\n\n    render() {\n\n\n        let results = this.props.results;\n         if(Array.isArray(results))\n        {\n            if(results.length===0) results = <NoResults  key={Utils.guid()}  app={this.props.app} />;\n            else results = results.map((item,seq) => <SearchResult  key={Utils.guid()}  seq={seq} item={item} app={this.props.app} />);\n        } \n        else if(results===1) results = <Loading  key={Utils.guid()} />\n        else results = null;\n\n        this.resultCount = (Array.isArray(results)) ? results.length : 0;\n\n        return (\n            <Pane>\n                <Dialog\n                    width={1080}\n                    isShown={SearchControls.isOpen(this.props.app)}\n                    title={<SearchInput\n                        autoFocus\n                        className=\"searchBar\"\n                        onChange={SearchControls.onChange.bind(this.props.app)}\n                        fontWeight={800} placeholder=\"Search\" width=\"100%\" height={60} />}\n                    onCloseComplete={SearchControls.isClosed.bind(this.props.app)}\n                    hasFooter={false}\n                    hasHeader={true}\n                    preventBodyScrolling\n                >\n                    <Pane width=\"100%\">{results}</Pane>\n                </Dialog>\n            </Pane>)\n    }\n}\nclass SearchResult extends Component {\n\n\n    render() {\n        let item = this.props.item;\n        let seq = this.props.seq;\n        let state = this.props.app.getUIState(\"search\");\n        let className = (state.index===seq) ? \"active\" : \"\";\n        return (\n            <Pane className={\"searchResult \"+className}  key={Utils.guid()} >\n                <div className=\"CardHeading\"><img alt=\"\" src={'./img/' + item.type + '.png'} /><Badge color={item.color} isSolid marginRight=\"1em\">{item.badge}</Badge>{this.highlight(item.label)}</div>\n            </Pane>)\n    }\n\n\n    highlight(text) {\n        if (Utils.isEmpty(text)) return null;\n        let regex = new RegExp('(' + this.props.app.getUIState(\"search\").query + ')', 'ig');\n        return text.split(regex).map((part, i) => {\n            if (i % 2) return <span key={Utils.guid()}  className=\"searchHighlight\">{part}</span>\n            return <span  key={Utils.guid()} >{part}</span>;\n        });\n    }\n}\n\nclass Loading extends Component {\n\n    render()\n    {\n        return <div align=\"center\"><img src={\"./img/search.gif\"} alt=\"search\"/><br/>Searching...</div>\n    }\n\n}\nclass NoResults extends Component {\n\n    render()\n    {\n    return <div align=\"center\">No results found for “{this.props.app.getUIState(\"search\").query}”.</div>\n    }\n\n}"]},"metadata":{},"sourceType":"module"}