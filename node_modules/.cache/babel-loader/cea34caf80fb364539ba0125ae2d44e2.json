{"ast":null,"code":"import _classCallCheck from\"/Users/adam.tothfejel/Desktop/LabelBoxFolder/BirdHouse/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/adam.tothfejel/Desktop/LabelBoxFolder/BirdHouse/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import Utils from'../controllers/Utils';import Theme from'./Theme';import Subtheme from'./Subtheme';import Story from'./Story';import Vertical from'./Vertical';import Objective from'./Objective';import PainPoint from'./PainPoint';import Feature from'./Feature';import config from'../config.json';var Query=/*#__PURE__*/function(){function Query(parameters){_classCallCheck(this,Query);var app=parameters.app,query=parameters.query,map=parameters.map,limit=parameters.limit,selector=parameters.selector;this.app=app;var filter=this.buildFilter(app,limit,selector);var items=app.state.masterData[this.loadTableKey(query)];var objects=this.queryItems(query,items,filter);if(map===undefined)this.objects=objects;else this.objects=this.mapItems(map,objects,filter);}_createClass(Query,[{key:\"queryItems\",value:function queryItems(type,items,filter){var _this=this;if(type===undefined)return[];var filteredObjects=[];items.forEach(function(item){var object=Query.createObject(type,item,_this.app);if(!object.filter(filter))filteredObjects.push(object);});return filteredObjects;}},{key:\"mapItems\",value:function mapItems(map,objects,filter){var _this2=this;var all_mapped_ids=[];objects.forEach(function(object){var mapped_ids=_this2.loadMappedIds(map,object);all_mapped_ids=all_mapped_ids.concat(mapped_ids);});all_mapped_ids=Utils.dedupe(all_mapped_ids);return this.loadObjectsFromIds(all_mapped_ids,map,filter);}},{key:\"loadTableKey\",value:function loadTableKey(key){if(config.elements[key]===undefined)return null;var tablekey=config.elements[key].table;return tablekey;}},{key:\"buildFilter\",value:function buildFilter(app,limit,selector)//LIMIT is an array of fields to be chosen from the App filters\n{if(selector!==undefined)for(var i in selector){return[{field:i,criteria:[selector[i]],type:\"whitelist\"}];}else if(limit===null)return null;var appFilters=app.state.config.filters;//Process Whitelist\nif(!Utils.isEmpty(limit)){if(!Array.isArray(limit))limit=[];var newFilters=[];for(var _i in appFilters){if(limit.indexOf(appFilters[_i].field)>=0)newFilters.push(appFilters[_i]);}if(limit.length>0)appFilters=newFilters;}if(Utils.isEmpty(selector)){}return appFilters;}},{key:\"loadObjectsFromIds\",value:function loadObjectsFromIds(ids,type,filter){ids=Utils.dedupe(ids);var objects=[];for(var i in ids){var id=ids[i];var item=this.app.getItemFromIndex(id);var object=Query.createObject(type,item,this.app);if(object===null)continue;if(object.filter(filter))continue;objects.push(object);}return objects;}},{key:\"filteredObjects\",value:function filteredObjects(){return this.objects;}},{key:\"loadMappedIds\",value:function loadMappedIds(map,object){if(map===object.typekey)return[object.data.id];var idFields=config.elements[object.typekey].idFields;var key=idFields[map];var ids=object.data[key];if(ids===undefined)return[];return ids;}}],[{key:\"createObject\",value:function createObject(type,item,app){if(type===\"theme\")return new Theme(item,app);if(type===\"subtheme\")return new Subtheme(item,app);if(type===\"story\")return new Story(item,app);if(type===\"vertical\")return new Vertical(item,app);if(type===\"objective\")return new Objective(item,app);if(type===\"feature\")return new Feature(item,app);if(type===\"painpoint\")return new PainPoint(item,app);console.log(\"Failed to create object of type: \"+type);return null;}},{key:\"filter\",value:function filter(filters,object){var _this3=this;if(Utils.isEmpty(filters))return false;var results=filters.map(function(filter){if(!Array.isArray(filter.criteria))return 0;if(filter.criteria.length===0)return 0;var field=_this3.determineFieldToFilter(object.typekey,filter.field);if(Utils.isEmpty(field))return 0;var candidates=object.data[field];if(Utils.isEmpty(candidates))return 1;if(!Array.isArray(candidates))candidates=[candidates];var intersection=candidates.filter(function(value){return filter.criteria.includes(value);});if(filter.type===\"whitelist\"&&intersection.length===0)return 1;if(filter.type===\"blacklist\"&&intersection.length>0)return 1;return 0;});var max=Math.max.apply(null,results);if(max>0)return true;return false;}},{key:\"determineFieldToFilter\",value:function determineFieldToFilter(type,key){if(key===\"id\")return key;var element=config.elements[type];if(!Utils.isEmpty(element.valueFields)){if(!Utils.isEmpty(element.valueFields[key]))return element.valueFields[key];}if(!Utils.isEmpty(element.idFields)){if(!Utils.isEmpty(element.idFields[key]))return element.idFields[key];}return null;}}]);return Query;}();export{Query as default};","map":{"version":3,"sources":["/Users/adam.tothfejel/Desktop/LabelBoxFolder/BirdHouse/src/models/Query.js"],"names":["Utils","Theme","Subtheme","Story","Vertical","Objective","PainPoint","Feature","config","Query","parameters","app","query","map","limit","selector","filter","buildFilter","items","state","masterData","loadTableKey","objects","queryItems","undefined","mapItems","type","filteredObjects","forEach","item","object","createObject","push","all_mapped_ids","mapped_ids","loadMappedIds","concat","dedupe","loadObjectsFromIds","key","elements","tablekey","table","i","field","criteria","appFilters","filters","isEmpty","Array","isArray","newFilters","indexOf","length","ids","id","getItemFromIndex","typekey","data","idFields","console","log","results","determineFieldToFilter","candidates","intersection","value","includes","max","Math","apply","element","valueFields"],"mappings":"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","sourcesContent":["\nimport Utils from '../controllers/Utils';\nimport Theme from './Theme';\nimport Subtheme from './Subtheme';\nimport Story from './Story';\nimport Vertical from './Vertical';\nimport Objective from './Objective';\nimport PainPoint from './PainPoint';\nimport Feature from './Feature';\nimport config from '../config.json';\n\nexport default class Query {\n\n    constructor(parameters) {\n\n        let { app, query, map, limit, selector } = parameters;\n        this.app = app;\n        let filter = this.buildFilter(app, limit, selector);\n        let items = app.state.masterData[this.loadTableKey(query)];\n        let objects = this.queryItems(query, items, filter);\n        if (map === undefined)\n            this.objects = objects;\n        else\n            this.objects = this.mapItems(map, objects, filter);\n    }\n\n\n    queryItems(type, items, filter) {\n        if (type === undefined) return [];\n        let filteredObjects = [];\n        items.forEach(item => {\n            let object = Query.createObject(type, item, this.app);\n            if (!object.filter(filter)) filteredObjects.push(object)\n        });\n        return filteredObjects;\n    }\n\n\n    mapItems(map, objects, filter) {\n\n        let all_mapped_ids = [];\n        objects.forEach(object => {\n            let mapped_ids = this.loadMappedIds(map,object);\n            all_mapped_ids = all_mapped_ids.concat(mapped_ids)\n        });\n        all_mapped_ids = Utils.dedupe(all_mapped_ids);\n        return this.loadObjectsFromIds(all_mapped_ids, map, filter);\n\n    }\n\n    loadTableKey(key) {\n        if (config.elements[key] === undefined) return null;\n        let tablekey = config.elements[key].table;\n        return tablekey;\n    }\n\n\n    buildFilter(app, limit, selector)  //LIMIT is an array of fields to be chosen from the App filters\n    {\n        if (selector !== undefined)\n            for (let i in selector)\n                return [{ field: i, criteria: [selector[i]], type: \"whitelist\" }];\n        else if (limit === null) return null;\n        let appFilters = app.state.config.filters;\n        //Process Whitelist\n        if (!Utils.isEmpty(limit)) {\n            if (!Array.isArray(limit)) limit = [];\n            let newFilters = [];\n            for (let i in appFilters)\n                if (limit.indexOf(appFilters[i].field) >= 0) newFilters.push(appFilters[i]);\n            if (limit.length > 0) appFilters = newFilters;\n        }\n        if (Utils.isEmpty(selector)) {\n\n        }\n        return appFilters;\n    }\n\n\n    loadObjectsFromIds(ids, type, filter) {\n        ids = Utils.dedupe(ids);\n        let objects = [];\n        for (let i in ids) {\n            let id = ids[i];\n            let item = this.app.getItemFromIndex(id);\n            let object = Query.createObject(type, item, this.app);\n            if (object === null) continue;\n            if (object.filter(filter)) continue;\n            objects.push(object);\n        }\n        return objects;\n    }\n\n\n\n    static createObject(type, item, app) {\n\n        if (type === \"theme\") return new Theme(item, app);\n        if (type === \"subtheme\") return new Subtheme(item, app);\n        if (type === \"story\") return new Story(item, app);\n        if (type === \"vertical\") return new Vertical(item, app);\n        if (type === \"objective\") return new Objective(item, app);\n        if (type === \"feature\") return new Feature(item, app);\n        if (type === \"painpoint\") return new PainPoint(item, app);\n        console.log(\"Failed to create object of type: \" + type);\n        return null;\n    }\n\n    filteredObjects() {\n        return this.objects;\n    }\n\n\n    static filter(filters, object) {\n        if (Utils.isEmpty(filters)) return false;\n        let results = filters.map(filter => {\n            if (!Array.isArray(filter.criteria)) return 0;\n            if (filter.criteria.length===0) return 0;\n            let field = this.determineFieldToFilter(object.typekey, filter.field);\n            if (Utils.isEmpty(field)) return 0;\n            let candidates = object.data[field];\n            if (Utils.isEmpty(candidates)) return 1;\n            if (!Array.isArray(candidates)) candidates = [candidates];\n            let intersection = candidates.filter(value => filter.criteria.includes(value));\n            if (filter.type === \"whitelist\" && intersection.length === 0) return 1;\n            if (filter.type === \"blacklist\" && intersection.length > 0) return 1;\n            return 0;\n        });\n        let max = Math.max.apply(null, results)\n        if (max > 0) return true;\n        return false;\n    }\n\n    static determineFieldToFilter(type, key) {\n        if(key===\"id\") return key;\n        let element = config.elements[type];\n        if (!Utils.isEmpty(element.valueFields)) {\n            if (!Utils.isEmpty(element.valueFields[key]))\n                return element.valueFields[key];\n        }\n        if (!Utils.isEmpty(element.idFields)) {\n            if (!Utils.isEmpty(element.idFields[key]))\n                return element.idFields[key];\n        }\n        return null;\n    }\n\n    loadMappedIds(map, object) {\n        if (map === object.typekey) return [object.data.id];\n        let idFields = config.elements[object.typekey].idFields;\n        let key = idFields[map];\n        let ids = object.data[key];\n        if (ids === undefined) return [];\n        return ids;\n    }\n\n}"]},"metadata":{},"sourceType":"module"}