{"ast":null,"code":"import _classCallCheck from\"/Users/adam.tothfejel/Desktop/LabelBoxFolder/BirdHouse/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/adam.tothfejel/Desktop/LabelBoxFolder/BirdHouse/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";//import Utils from '../controllers/Utils';\nimport Query from'./Query';import config from'../config.json';var BaseElement=/*#__PURE__*/function(){function BaseElement(type,app,item){_classCallCheck(this,BaseElement);this.typekey=type;this.data=item;this.app=app;this.element=config.elements[this.typekey];this.titlekey=this.element.field;this.idFields=this.element.idFields;this.tagline=this.element.tagline;}_createClass(BaseElement,[{key:\"filter\",value:function filter(filters){return Query.filter(filters,this);}},{key:\"loadListData\",value:function loadListData(){return{id:this.data.id,type:this.typekey,label:this.data[this.titlekey],data:this.data};}},{key:\"standardFilters\",value:function standardFilters(){return this.app.state.config.filters;}},{key:\"getLinkedObjects\",value:function getLinkedObjects(type)//FROM idFields\n{var _this=this;if(this.data[this.idFields[type]]===undefined)return[];return this.data[this.idFields[type]].map(function(item_id,i){var object=Query.createObject(type,_this.app.getItemFromIndex(item_id),_this.app);if(object.filter(_this.standardFilters()))return false;return object.loadListData();}).filter(function(i){return i;});}},{key:\"getFieldValues\",value:function getFieldValues(field)//FROM idFields\n{if(this.data[this.valueFields[field]]===undefined)return[];return this.data[this.valueFields[field]].map(function(value,i){if(false)return false;// TODO Needs a filter?\nreturn value;}).filter(function(i){return i;});}},{key:\"loadCardData\",value:function loadCardData(){return{id:this.data.id,fields:this.data,type:this.typekey,heading:this.data[config.elements[this.typekey].field],preview:this.cardPreview(),infoBox:this.infoBox()};}},{key:\"infoBox\",value:function infoBox(){var blocks=this.buildBlocks();return{type:this.typekey,title:this.data[this.titlekey],titleLabel:this.tagline,blocks:blocks};}},{key:\"cardPreview\",value:function cardPreview(){return null;}}]);return BaseElement;}();export{BaseElement as default};","map":{"version":3,"sources":["/Users/adam.tothfejel/Desktop/LabelBoxFolder/BirdHouse/src/models/BaseElement.js"],"names":["Query","config","BaseElement","type","app","item","typekey","data","element","elements","titlekey","field","idFields","tagline","filters","filter","id","label","state","undefined","map","item_id","i","object","createObject","getItemFromIndex","standardFilters","loadListData","valueFields","value","fields","heading","preview","cardPreview","infoBox","blocks","buildBlocks","title","titleLabel"],"mappings":"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","sourcesContent":["\n//import Utils from '../controllers/Utils';\nimport Query from './Query';\nimport config from '../config.json';\n\nexport default class BaseElement {\n\n    constructor(type,app,item)\n    {\n        this.typekey = type;\n        this.data = item;\n        this.app = app;\n        this.element = config.elements[this.typekey];\n        this.titlekey = this.element.field\n        this.idFields = this.element.idFields;\n        this.tagline = this.element.tagline;\n    }\n\n    filter(filters) { return Query.filter(filters, this); }\n\n\n    loadListData() {\n\n        return {\n            id: this.data.id,\n            type: this.typekey,\n            label: this.data[this.titlekey],\n            data: this.data\n        };\n    }\n    standardFilters()\n    {\n        return this.app.state.config.filters;\n    }\n\n\n    getLinkedObjects(type) //FROM idFields\n    {\n        if (this.data[this.idFields[type]] === undefined) return [];\n        return this.data[this.idFields[type]].map((item_id, i) => {\n            let object = Query.createObject(type,this.app.getItemFromIndex(item_id), this.app);\n            if (object.filter(this.standardFilters())) return false;\n            return object.loadListData();\n        }).filter(i => (i));\n    }\n\n    getFieldValues(field) //FROM idFields\n    {\n        if (this.data[this.valueFields[field]] === undefined) return [];\n        return this.data[this.valueFields[field]].map((value, i) => {\n            if(false) return false; // TODO Needs a filter?\n            return value;\n        }).filter(i => (i));\n    }\n\n\n    loadCardData() {\n        return {\n            id: this.data.id,\n            fields: this.data,\n            type: this.typekey,\n            heading: this.data[config.elements[this.typekey].field],\n            preview: this.cardPreview(),\n            infoBox: this.infoBox()\n        };\n    }\n\n\n    infoBox() {\n\n        let blocks = this.buildBlocks();\n\n        return {\n            type: this.typekey,\n            title: this.data[this.titlekey],\n            titleLabel: this.tagline,\n            blocks: blocks\n        };\n    }\n\n    cardPreview()\n    {\n        return null;\n    }\n\n\n\n}"]},"metadata":{},"sourceType":"module"}